ラベル：TRPG_シナリオ
「ゴブリン退治」

[クエスト概要]
村の近くの森でゴブリンの出没が増えている。村長から依頼を受け、ゴブリンの巣を見つけて討伐し、村の安全を確保するクエストです。
比較的単純な構成ですが、初心者プレイヤーでも楽しめる短時間のシナリオです。

[ステート処理]
シナリオ開始時に以下のステートを初期化します。
シナリオログJSON: "[]"
進行状況JSON: "{\"進行段階\": 1, \"進行名\": \"森への移動\"}"
シナリオフラグJSON: "{\"森の安全ルート発見\": false,\"ゴブリン巣発見\":false, \"先制攻撃成功\": false, \"全てのゴブリン撃破\":false, \"隠し財宝発見\": false, \"クエスト完了\":false}"
敵残量JSON: "{\"ゴブリン\": 5}"
罠残量JSON: "{}"

[パート]
クエストは大きく以下の進行度に分けられます：

1. 森への移動
2. ゴブリン巣の探索
3. ゴブリンとの戦闘
4. 村への帰還と報告

それぞれのパートに到達した時、「進行状況JSON」のステートを更新し、進行段階と進行名を記録してください。
また、「シナリオログJSON」にもパートの進行を記録してください。

[詳細進行]

1. 森への移動
村長から依頼を受け、森に向かいます。

初心者向けの簡易的な依頼のため、村での準備パートは存在しません。
その旨をストーリーベースで語ってから探索パートへと移ってください。

・導入サンプルテキスト
　――森に、はぐれのゴブリンがやってきたらしい。
　酒の席で、ついでのように依頼されたのは、森を徘徊しているというゴブリンの退治だった。
　たかだか数匹のゴブリン程度、村の防備でも問題はないだろうが、住み着いて仲間でも呼ばれたら厄介ではある。
　ほろ酔いで気分もよかったあなたは、そのくらいお安い御用だと軽く請け負い、翌朝に酒が抜けてから安請け合いを後悔した。

　とはいえ、依頼は依頼だ。
　報酬も適正なものだし、受けてしまったものは仕方がない。
「やるしかないか」
　まだ日が昇ってから間もない。
　今から行けば、まだ目の覚めきっていないゴブリンたちを一方的に奇襲出来るかもしれない。
　幸いと言っていいのか、ゴブリンは森の浅い場所にいて、そこならほかに危険なモンスターもいない。

　あなたはため息交じりに諸々の支度を整えると、森へと足を踏み入れた。


・安全ルート探索　敏捷チェック (目標値6):
成功: 
素早く安全に森に到達し、地形の優位性を得ることができます。これにより戦闘開始時に先制攻撃のチャンスを得ます。
「シナリオフラグJSON」の「森の安全ルート発見」をtrueにし、「先制攻撃成功」もtrueにし、「シナリオログJSON」に「安全なルートを見つけて森に到着し、先制攻撃の機会を得た」と記録してください。

失敗: 
森に到着するも、特に有利な状況は作れませんでした。
「シナリオログJSON」に「森に到着したが、地形の優位は得られなかった」と記録してください。

進行後、「進行状況JSON」を更新：
"{\"進行段階\": 2, \"進行名\": \"ゴブリン巣の探索\"}"

2. ゴブリン巣の探索
森の中でゴブリンの巣を探します。

・巣の探索　知力チェック(目標値7):
成功:
ゴブリンの巣を見つけ、敵に気づかれずに様子を探ることができます。
「シナリオフラグJSON」の「ゴブリン巣発見」をtrueにし、「シナリオログJSON」に「ゴブリンの巣を発見した」と記録してください。

さらに「シナリオフラグJSON」の「森の安全ルート発見」がfalseの場合（つまり最初の先制チャンスを逃した場合）、追加で先制機会の判定を行います：
・第二の先制機会　敏捷チェック (目標値8):
成功:
ゴブリンたちが油断している隙を見つけ、先制攻撃のチャンスを得ます。
「シナリオフラグJSON」の「先制攻撃成功」をtrueにし、「シナリオログJSON」に「ゴブリンの隙を見つけ、先制攻撃の機会を得た」と記録してください。

失敗: 
特に有利な状況は作れませんでした。通常通り戦闘開始。

もし最初の巣の探索判定に失敗した場合：
「シナリオログJSON」に「ゴブリンの巣を見つけるのに時間がかかった」と記録し、直接戦闘フェーズに移行します。ただし、「シナリオフラグJSON」の「森の安全ルート発見」がtrueなら、既に先制攻撃権を得ています。

進行後、「進行状況JSON」を更新：
"{\"進行段階\": 3, \"進行名\": \"ゴブリンとの戦闘\"}"

3.ゴブリンとの戦闘
ゴブリンたちとの戦闘が始まります。

戦闘開始時の状況：
・「シナリオフラグJSON」の「先制攻撃成功」がtrueの場合：
プレイヤーが先制攻撃を行えます。ゴブリンたちは最初のラウンドで行動できません。

・そうでない場合：
通常の戦闘ルールに従い、敏捷値によるイニシアチブ順で戦闘を開始します。

戦闘データ：
ゴブリン(5体)：
-HP：7/7
- 能力値：筋力0、器用0、敏捷1、知力0、魅力0、幸運0
- 武器：ダガー[短剣/片手|1d4+敏捷|150G]
- 防具：なし
- 所持品：10GP

戦闘の進行：
・ゴブリンを1体倒すごとに、「敵残量JSON」の「ゴブリン」の数を適切に減らし、「シナリオログJSON」に記録してください。
・全てのゴブリンを倒したら、「シナリオフラグJSON」の「全てのゴブリン撃破」をtrueにしてください。

隠し要素：
・戦闘後の探索　知力チェック (目標値9):
成功: 
ゴブリン達の巣の奥に隠された財宝を発見します。150GPと小回復ポーション1つを入手。
「シナリオフラグJSON」の「隠し財宝発見」をtrueにし、「シナリオログJSON」に「ゴブリンの隠し財宝を発見した(150GP、小回復ポーション×1)」と記録してください。

失敗: 
特に何も見つかりません。

進行後、「進行状況JSON」を更新：
"{\"進行段階\": 4,\"進行名\": \"村への帰還と報告\"}"

4. 村への帰還と報告
森での任務を終え、村に戻って村長に報告します。

・村長への報告:
全てのゴブリンを倒している場合（「シナリオフラグJSON」の「全てのゴブリン撃破」がtrue）：
村長から感謝と報酬を受け取ります。
「シナリオフラグJSON」の「クエスト完了」をtrueにし、「シナリオログJSON」に「村長に報告し、クエストを完了した」と記録してください。

報酬：
基本報酬：200GP、小回復ポーション×1、成長点8点
「シナリオフラグJSON」の「隠し財宝発見」がtrueの場合、それに加えて発見した財宝も獲得できます。

クエスト完了！

[行為判定の難易度]
簡単:目標値5
普通: 目標値8
難しい: 目標値10
